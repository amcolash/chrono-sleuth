var e=Object.defineProperty,t=(t,s,i)=>(((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(t,"symbol"!=typeof s?s+"":s,i),i);import{p as s}from"./phaser-C2_wa_Fb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let i=!1;i=!0;let n=!1;n=!0;const a={debug:!0,width:1024,height:768,cameraOffset:256,dayMinutes:.25,rewindEnabled:!1,fastMode:!0};class o extends s.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}const r="fcfee9",h="e6c99d",l="303646",c="1c1831";function d(e){return Phaser.Display.Color.HexStringToColor(e).color}const p={fontFamily:"m5x7, sans-serif",fontSize:48,color:`#${r}`};class u extends s.GameObjects.Container{constructor(e,s,i){super(e,40,a.height-60),t(this,"currentTime",0),t(this,"rewindCount",0),t(this,"player"),t(this,"rewindable"),t(this,"rewinding",!1),t(this,"counter",0),t(this,"bar"),t(this,"hand"),t(this,"timeText"),t(this,"dayOver"),this.setVisible(a.rewindEnabled).setDepth(1).setScrollFactor(0),this.scene.add.existing(this),this.rewindable=s,this.player=i,this.add(e.add.sprite(0,0,"watch").setScale(.25)),this.hand=e.add.rectangle(0,10,3,14,d(c)).setOrigin(0,0),this.add(this.hand),this.timeText=e.add.text(15,10,"",p).setScrollFactor(0),this.bar=e.add.rectangle(0,a.height-6,0,6,13412864).setScrollFactor(0)}update(e,t){}}var y=(e=>(e[e.None=0]="None",e[e.Teleported=1]="Teleported",e[e.Talked=2]="Talked",e[e.Item=3]="Item",e))(y||{}),g=(e=>(e[e.Underground=0]="Underground",e[e.Town=1]="Town",e[e.TownEast=2]="TownEast",e[e.Forest=3]="Forest",e[e.ForestEast=4]="ForestEast",e[e.Lake=5]="Lake",e[e.TownNorth=6]="TownNorth",e[e.ClockSquare=7]="ClockSquare",e[e.ClockSquareNorth=8]="ClockSquareNorth",e[e.ClockEntrance=9]="ClockEntrance",e[e.ClockStairs=10]="ClockStairs",e[e.ClockTop=11]="ClockTop",e))(g||{}),m=(e=>(e[e.Wrench=0]="Wrench",e[e.Gear1=1]="Gear1",e))(m||{}),w=(e=>(e[e.ForestGear=0]="ForestGear",e[e.SphinxRiddle=1]="SphinxRiddle",e))(w||{}),x=(e=>(e[e.Inventor=0]="Inventor",e[e.Stranger=1]="Stranger",e[e.Sphinx=2]="Sphinx",e[e.Mayor=3]="Mayor",e[e.ClockTower=4]="ClockTower",e))(x||{}),f=(e=>(e[e.Sphinx=0]="Sphinx",e))(f||{}),v=(e=>(e[e.FixTheClock=0]="FixTheClock",e[e.SphinxRiddleSolved=1]="SphinxRiddleSolved",e[e.MeetTheMayor=2]="MeetTheMayor",e))(v||{});const b={[m.Wrench]:{x:0,y:0,image:"wrench"},[m.Gear1]:{x:5120,y:915,image:"gear"}};class k extends Phaser.Physics.Arcade.Sprite{constructor(e,s,i){const{x:n,y:o,image:r}=b[s];super(e,n,o,r),t(this,"itemType"),t(this,"player"),t(this,"particles"),this.itemType=s,this.player=i,this.scale=.35,e.add.existing(this),e.physics.add.existing(this),a.debug&&this.setInteractive({draggable:!0}),this.particles=e.add.particles(n,o,"warp",{speed:{min:2,max:10},scale:{start:.1,end:.9},alpha:{start:.8,end:0},lifespan:500,frequency:1e3})}onInteract(e){return e.SPACE.isDown||e.ENTER.isDown?(this.player.inventory.addItem(this.itemType),this.destroy(),y.Item):y.None}destroy(e){super.destroy(e),this.particles.destroy()}getButtonPrompt(){return[`Pick Up ${m[this.itemType]}`,"Press [CONTINUE]"]}}const S=[{x:40,y:600},{x:1750,y:600},{x:90,y:820},{x:1650,y:820},{x:550,y:-400},{x:1150,y:-400},{x:640,y:-1380},{x:1020,y:-1380},{x:750,y:-2075},{x:900,y:-2075},{x:2600,y:760},{x:3600,y:760,id:f.Sphinx},{x:4575,y:870},{x:5150,y:870}];class T extends s.Physics.Arcade.StaticGroup{constructor(e){super(e.physics.world,e),S.forEach((t=>{const s=e.add.rectangle(t.x,t.y,6,100).setOrigin(0).setVisible(a.debug);s.setData("WallType",t.id),a.debug&&s.setInteractive({draggable:!0}),this.add(s)}))}}const I={[g.Town]:{x:300,y:650,key:[Phaser.Input.Keyboard.KeyCodes.DOWN],warpTo:g.Underground,visual:0},[g.Underground]:{x:301,y:875,key:[Phaser.Input.Keyboard.KeyCodes.UP],warpTo:g.Town,visual:0},[g.TownEast]:{x:1720,y:650,key:[Phaser.Input.Keyboard.KeyCodes.RIGHT,Phaser.Input.Keyboard.KeyCodes.D],warpTo:g.Forest,visual:2},[g.Forest]:{x:2650,y:810,key:[Phaser.Input.Keyboard.KeyCodes.LEFT,Phaser.Input.Keyboard.KeyCodes.A],warpTo:g.TownEast,visual:1},[g.TownNorth]:{x:775,y:650,key:[Phaser.Input.Keyboard.KeyCodes.UP],warpTo:g.ClockSquare,visual:2},[g.ClockSquare]:{x:720,y:-330,key:[Phaser.Input.Keyboard.KeyCodes.DOWN],warpTo:g.TownNorth,visual:1},[g.ClockSquareNorth]:{x:915,y:-330,key:[Phaser.Input.Keyboard.KeyCodes.UP],warpTo:g.ClockEntrance,visual:2},[g.ClockEntrance]:{x:900,y:-1320,key:[Phaser.Input.Keyboard.KeyCodes.DOWN],warpTo:g.ClockSquareNorth,visual:1},[g.ClockStairs]:{x:735,y:-1320,key:[Phaser.Input.Keyboard.KeyCodes.UP],warpTo:g.ClockTop,visual:1},[g.ClockTop]:{x:790,y:-2005,key:[Phaser.Input.Keyboard.KeyCodes.DOWN],warpTo:g.ClockStairs,visual:1},[g.ForestEast]:{x:3590,y:810,key:[Phaser.Input.Keyboard.KeyCodes.RIGHT,Phaser.Input.Keyboard.KeyCodes.D],warpTo:g.Lake,visual:2},[g.Lake]:{x:4625,y:915,key:[Phaser.Input.Keyboard.KeyCodes.LEFT,Phaser.Input.Keyboard.KeyCodes.A],warpTo:g.ForestEast,visual:1}};class P extends s.Physics.Arcade.Sprite{constructor(e,i,n){const{x:o,y:c,visual:p,warpTo:u}=I[i];if(super(e,o,c,0===p?"ladder":"warp"),t(this,"warpType"),t(this,"player"),t(this,"particles1"),t(this,"particles2"),this.warpType=i,this.player=n,this.scale=.5,e.add.existing(this),e.physics.add.existing(this),a.debug){this.setInteractive({draggable:!0});const t=I[u],s=e.add.graphics(),n=i%2==0?16776960:65535;s.fillStyle(n),s.lineStyle(3,n);let a=-this.displayWidth/2,r=-this.displayHeight/2;t.x>o&&(a*=-1),t.y>c&&(r*=-1);const h=new Phaser.Geom.Line(o+a,c+r,t.x+a,t.y+r);s.strokeLineShape(h),s.fillRect(o+a-7,c+r-7,14,14)}0!==p&&(this.particles1=e.add.particles(o,c,"warp",{x:{min:-3,max:3},y:{min:-3,max:3},speed:{random:[-40,40]},scale:{min:.35,max:.5},alpha:{start:.2,end:0},angle:{min:0,max:360},color:[d(l),d(r),d(h)],colorEase:"Linear",radial:!0,blendMode:s.BlendModes.OVERLAY}).setScale(1,1.75),this.particles2=e.add.particles(o,c,"warp",{x:{min:-30,max:30},y:{min:-50,max:50},speed:{random:[-5,5]},scale:{min:.05,max:.15},alpha:{values:[0,.2,0]},angle:{min:0,max:360},lifespan:{min:1e3,max:1400},color:[d("d07151"),d(r),d(h)],colorEase:"Linear",radial:!0,maxAliveParticles:20})),i===g.Underground&&(e.add.sprite(o,c-60,"ladder").setScale(.5),e.add.sprite(o,c-105,"ladder").setScale(.5)),this.setVisible(2!==p)}onInteract(e){let t=!1;const s=I[this.warpType].key;return Object.values(e).forEach((e=>{e.isDown&&s.includes(e.keyCode)&&(t=!0)})),t&&this.warpType===g.TownEast&&!a.debug?(this.scene.scene.pause(),this.scene.scene.launch("MazeDialog",{player:this.player}),y.None):t?(C(I[this.warpType].warpTo,this.player),y.Teleported):y.None}getButtonPrompt(){const e=I[this.warpType].key.map((e=>e===Phaser.Input.Keyboard.KeyCodes.ENTER||e===Phaser.Input.Keyboard.KeyCodes.SPACE?"[CONTINUE]":e===Phaser.Input.Keyboard.KeyCodes.UP||e===Phaser.Input.Keyboard.KeyCodes.W?"[UP]":e===Phaser.Input.Keyboard.KeyCodes.DOWN||e===Phaser.Input.Keyboard.KeyCodes.S?"[DOWN]":e===Phaser.Input.Keyboard.KeyCodes.LEFT||e===Phaser.Input.Keyboard.KeyCodes.A?"[LEFT]":e===Phaser.Input.Keyboard.KeyCodes.RIGHT||e===Phaser.Input.Keyboard.KeyCodes.D?"[RIGHT]":"[UNKNOWN]")),t=[...new Set(e)];return[`Travel to ${g[I[this.warpType].warpTo]}`,"Press "+t.join(" or ")]}setVisible(e){return super.setVisible(e),this.particles1&&this.particles2&&(e?(this.particles1.start(),this.particles2.start()):(this.particles1.stop(),this.particles1.killAll(),this.particles2.stop(),this.particles2.killAll())),this}destroy(e){this.particles1&&this.particles2&&(this.particles1.destroy(),this.particles2.destroy()),super.destroy(e)}}function C(e,t){const{x:s,y:i}=I[e],n=t.scene,o=s-n.cameras.main.width/2,r=i-n.cameras.main.height/2;n.cameras.main.stopFollow(),t.setActive(!1),n.tweens.add({targets:n.cameras.main,scrollX:o,scrollY:r-a.cameraOffset,duration:400,ease:"Power1",onComplete:()=>{n.cameras.main.startFollow(t),n.cameras.main.setFollowOffset(0,a.cameraOffset),t.setActive(!0)}}),n.tweens.add({targets:t,alpha:0,duration:300,ease:"Power1",yoyo:!0,repeat:0,onYoyo:()=>{t.setPosition(s,i)},onComplete:()=>{t.alpha=1}})}function O(e,t){var i,n;const a=function(e,t){return E(e,R).find((e=>e.npcType===t))}(e,x.Sphinx);D(e,g.ForestEast,!0===t);const o=function(e,t){return E(e,s.GameObjects.Rectangle).find((e=>e.getData("wallType")===t))}(e,f.Sphinx);if(o&&(t?o.setX((null==(i=S.find((e=>e.id===f.Sphinx)))?void 0:i.x)||0):o.setX(o.x-150),null==(n=o.body)||n.updateFromGameObject()),!a)return;const{x:r,y:h}=q[x.Sphinx];e.tweens.add({targets:a,alpha:0,duration:300,ease:"Power1",yoyo:!0,repeat:0,onYoyo:()=>{t?a.setPosition(r+200,h-90):a.setPosition(r,h)},onComplete:()=>{a.alpha=1}})}function E(e,t){return e.children.getAll().filter((e=>e instanceof t))}function D(e,t,s){const i=function(e,t){return E(e,P).find((e=>e.warpType===t))}(e,t);i&&i.setVisible(s)}function j(e){return e.scene.get("Game").clock.rewindCount||0}const F=[{question:"I speak without a mouth and hear without ears. I have no body, but I come alive with the wind.",answer:"echo",options:["echo","whisper","ghost","silence","shadow"],hints:{[x.Inventor]:["The sphinx is known for asking about things we take for granted.","Think about what we hear in canyons."],[x.Stranger]:["The sphinx’s riddles are always a bit tricky. I think this one is","about something that bounces off walls."]}},{question:"I have cities, but no houses. I have mountains, but no trees. I have water, but no fish. What am I?",answer:"map",options:["map","globe","dream","photograph","landscape"],hints:{[x.Inventor]:["Think of something that represents the world, showing cities","and mountains but not in a literal way."],[x.Stranger]:["Imagine something that can fit in your hand or hang on a wall,","showing vast landscapes and bodies of water, but not in their true form."]}},{question:"I fly without wings. I cry without eyes. Whenever I go, darkness flies. What am I?",answer:"cloud",options:["cloud","bat","wind","shadow","storm"],hints:{[x.Inventor]:["The sphinx’s riddles can be tricky. Think about things that move","or change without the usual parts, like wings or eyes."],[x.Stranger]:["Look at your surroundings. Shadows often behave in strange ways,","don’t they? They move, disappear, and seem to fly without wings."]}}];function N(e){return j(e)%F.length}function M(e,t){const s=N(e);return F[s].hints[t]}const K={[x.Inventor]:[{messages:["I see you found the first gear. You should talk to the mayor to learn more about the old clock."],conditions:{hasItem:m.Gear1}},{messages:e=>M(e.scene,x.Inventor),conditions:{activeQuest:w.SphinxRiddle}},{messages:["Now that you have the wrench, you can fix the clock tower. You’ll need three gears to do it."],conditions:{hasItem:m.Wrench}},{messages:["The clock tower is the heart of our town, but it’s been broken for ages. I’ve got a wrench, but","you’ll need three special gears to fix it. You might find the others by helping the townsfolk."],onCompleted:e=>{e.journal.addEntry(v.FixTheClock),e.inventory.addItem(m.Wrench)}}],[x.Stranger]:[{messages:["Now that you have the first gear, I would talk to the inventor."],conditions:{hasItem:m.Gear1}},{messages:e=>M(e.scene,x.Stranger),conditions:{activeQuest:w.SphinxRiddle}},{messages:["I’ve heard rumors of a gear hidden deep in the Enchanted Forest. Beware of the forest’s","creatures and traps. One time I thought I saw an ancient being, but it ran away."],conditions:{hasItem:m.Wrench},onCompleted:e=>{e.quests.addQuest({id:w.ForestGear,completed:!1}),D(e.scene,g.TownEast,!0)}},{messages:["Who am I?","Eventually, you will learn."]}],[x.Sphinx]:[{messages:e=>function(e){const t=N(e);return[F[t].question]}(e.scene),options:e=>function(e){const t=N(e),s=[...F[t].options].sort((()=>Math.random()-.5));return s.push("I don’t know"),s}(e.scene),conditions:{activeQuest:w.SphinxRiddle},onSelected:(e,t,s)=>{e===function(e){const t=N(e);return F[t].answer}(t.scene)?t.message.setDialog({messages:["That is correct. Well done, you may pass."],onCompleted:e=>{e.quests.updateExistingQuest(w.SphinxRiddle,!0),e.journal.addEntry(v.SphinxRiddleSolved)}},s):"I don’t know"===e?t.message.setDialog({messages:["Come back when you have an answer for me."]},s):t.message.setDialog({messages:["That is not correct. Do not return."]},s)}},{messages:["Welcome, brave soul. To pass, you must answer my riddle. You may only answer once. Choose wisely."],onCompleted:e=>{e.quests.addQuest({id:w.SphinxRiddle,completed:!1})}}],[x.Mayor]:[{messages:["Hello, traveler. I am the mayor of this town.","The clock tower has been broken for years."]}],[x.ClockTower]:[{messages:["This dusty clock tower hasn't told the correct time in many years.","It appears to be missing some gears."]}]};function G(e,t){return e.some((e=>e.id===t&&!e.completed))}function A(e,t){return e.some((e=>e.id===t&&e.completed))}const q={[x.Inventor]:{x:550,y:635,scale:.75,img:"inventor",portrait:"inventor_portrait",name:"Johan the Inventor"},[x.Stranger]:{x:750,y:865,scale:1.35,img:"stranger",portrait:"stranger_portrait",name:"Mysterious Stranger"},[x.Sphinx]:{x:3520,y:780,scale:1,img:"sphinx",portrait:"sphinx_portrait",name:"Mystical Sphinx",onCreate:e=>O(e.scene,!1)},[x.Mayor]:{x:1065,y:-340,scale:.9,img:"mayor",portrait:"mayor_portrait",name:"Mayor of Town"},[x.ClockTower]:{x:880,y:-2090,scale:.7,img:"warp",portrait:"",name:"Clock Tower"}};class R extends Phaser.Physics.Arcade.Sprite{constructor(e,s,i){const{x:n,y:o,img:r,scale:h,onCreate:l}=q[s];super(e,n,o,r),t(this,"npcType"),t(this,"player"),this.npcType=s,this.player=i,this.scale=h,e.add.existing(this),e.physics.add.existing(this),a.debug&&this.setInteractive({draggable:!0}),l&&l(this)}onInteract(e){if(this.player.message.visible||Date.now()<this.player.message.interactionTimeout)return y.None;if(e.SPACE.isDown||e.ENTER.isDown){const e=function(e,t){const s=K[e]||[];for(const r of s){const{conditions:e}=r,s=[];if(void 0!==(null==e?void 0:e.hasItem)&&s.push((a=t.inventory.inventory,o=e.hasItem,a.includes(o))),void 0!==(null==e?void 0:e.completedQuest)&&s.push(A(t.quests.quests,e.completedQuest)),void 0!==(null==e?void 0:e.activeQuest)&&s.push(G(t.quests.quests,e.activeQuest)),void 0!==(null==e?void 0:e.journalEntry)&&s.push((i=t.journal.journal,n=e.journalEntry,i.includes(n))),null==e?void 0:e.invert)if(null==e?void 0:e.or){if(s.every((e=>!e)))return r}else if(s.every((e=>!e)))return r;if(null==e?void 0:e.or){if(s.some((e=>e)))return r}else if(s.every((e=>e)))return r}var i,n,a,o}(this.npcType,this.player);if(!e)return y.None;const t=q[this.npcType].portrait.length>0;return this.player.message.setDialog(e,t?this:void 0),y.Talked}return y.None}getButtonPrompt(){return this.npcType===x.ClockTower?["Inspect Clock Tower","Press [CONTINUE]"]:[`Talk to ${q[this.npcType].name}`,"Press [CONTINUE]"]}}class V extends s.GameObjects.Container{constructor(e){super(e,a.width-320,20),t(this,"inventory",[]),this.setScrollFactor(0).setDepth(1).setVisible(!1),e.add.existing(this),this.add(e.add.rectangle(0,0,300,100,d(l)).setStrokeStyle(2,d(r)).setAlpha(.75).setOrigin(0)),this.add(e.add.text(10,0,"Inventory",p))}addItem(e){this.inventory.push(e),this.add(this.scene.add.sprite(0,0,b[e].image).setScale(.35)),this.updateItems();const t=function(e,t){return E(e,k).find((e=>e.itemType===t))}(this.scene,e);t&&t.destroy()}removeItem(e){var t;const s=this.inventory.indexOf(e);s>-1&&(this.inventory.splice(s,1),null==(t=this.getAll().find((t=>{var s;return(null==(s=t.texture)?void 0:s.key)===b[e].image})))||t.destroy()),this.updateItems()}updateItems(){let e=0;this.getAll().forEach((t=>{if(t instanceof s.GameObjects.Sprite){const s=30+50*e;t.setPosition(s,70),e++}})),this.setVisible(this.inventory.length>0)}}class W extends s.GameObjects.Text{constructor(e,t){super(e,20,30,t,{...p,backgroundColor:"#"+l,padding:{x:10,y:5}}),this.setAlpha(0).setDepth(2).setScrollFactor(0),e.add.existing(this),e.add.tween({targets:this,alpha:1,duration:350,hold:3500,yoyo:!0,repeat:0,onComplete:()=>this.destroy()})}}class z extends s.GameObjects.Sprite{constructor(e,s){super(e,a.width-50,a.height-50,"journal"),t(this,"player"),t(this,"journal",[]),t(this,"unread"),this.setScrollFactor(0).setDepth(1).setScale(.5).setAlpha(0).setInteractive().setActive(!1),this.on("pointerdown",this.openJournal),e.add.existing(this),this.player=s,this.unread=e.add.ellipse(a.width-20,a.height-85,20,20,11141120).setStrokeStyle(2,d(c)).setScrollFactor(0).setDepth(2).setVisible(!1)}addEntry(e,t){this.journal.includes(e)||(0===this.journal.length&&(this.scene.tweens.add({targets:this,alpha:1,duration:300}),this.setActive(!0)),this.journal.push(e),t||(this.unread.setVisible(!0),new W(this.scene,"New joural entry added!")),this.handleSideEffects(e))}openJournal(){0!==this.journal.length&&(this.unread.setVisible(!1),this.scene.scene.pause(),this.scene.scene.launch("JournalDialog",{player:this.player}))}handleSideEffects(e){e===v.SphinxRiddleSolved&&O(this.scene,!0)}}const L={[w.ForestGear]:"Find the gear in the forest",[w.SphinxRiddle]:"Solve the Sphinx riddle"};class U extends s.GameObjects.Container{constructor(e){super(e,a.width-330-20,120),t(this,"quests",[]),t(this,"questRectangle"),e.add.existing(this),this.setScrollFactor(0).setDepth(1).setVisible(!1),this.questRectangle=e.add.rectangle(0,0,330,60,d(l)).setStrokeStyle(2,d(r)).setAlpha(.75).setOrigin(0),this.add(this.questRectangle),this.add(e.add.text(10,0,"Quests",p))}addQuest(e){this.quests.find((t=>t.id===e.id))||(this.quests.push(e),this.add(this.scene.add.text(0,0,L[e.id],{...p,fontSize:32})),this.updateQuests())}updateExistingQuest(e,t){const s=this.quests.find((t=>t.id===e));s&&(s.completed=t),this.updateQuests()}updateQuests(){const e=this.quests.filter((e=>!e.completed));let t=1,i=0;this.getAll().forEach((n=>{if(n instanceof s.GameObjects.Text)if(e.find((e=>n.text===L[e.id]))||"Quests"===n.text){if("Quests"!==n.text){const e=10+30*t;n.setPosition(10,e),t++,i=Math.max(i,n.width)}}else n.destroy()}));const n=i+20;this.setX(a.width-20-n),this.setY(this.scene.player.inventory.inventory.length>0?140:20),this.setVisible(e.length>0),this.questRectangle.setSize(n,50+30*e.length)}reset(){this.quests=[],this.updateQuests()}}class Q extends s.GameObjects.Text{constructor(e){super(e,a.width/2,a.height-50,"",p),this.setOrigin(.5).setBackgroundColor("#"+c).setPadding(10,5).setAlign("center").setAlpha(.9).setScrollFactor(0).setDepth(2).setVisible(!1),e.add.existing(this)}show(e){this.setText(e).setVisible(!0)}hide(){this.setVisible(!1)}}const B=20,{width:_,height:X}=a,H=_-120-80;class Y extends s.GameObjects.Container{constructor(e,i){var n,a,o,r;super(e),t(this,"player"),t(this,"npc"),t(this,"npcName"),t(this,"text"),t(this,"box"),t(this,"image"),t(this,"options"),t(this,"optionsContainer"),t(this,"optionIndex"),t(this,"dialog"),t(this,"messageIndex"),t(this,"interactionTimeout"),e.add.existing(this),this.setScrollFactor(0),this.setPosition(B,X-B-170),this.setDepth(3),this.setVisible(!1),this.player=i,this.npcName=new s.GameObjects.Text(e,170,15,"",{...p,color:"#"+h}),this.text=new s.GameObjects.Text(e,170,60,"",p),this.text.width=H,this.text.height=130,this.text.setOrigin(0).setWordWrapWidth(H,!0).setFixedSize(H,130),this.image=new s.GameObjects.Image(e,B,B,"").setOrigin(0).setScale(1.5),this.box=new s.GameObjects.Rectangle(e,0,0,_-40,170,d(c),.8),this.box.setStrokeStyle(2,d(h),1),this.box.setOrigin(0,0),this.optionsContainer=e.add.container().setScrollFactor(0),this.add([this.box,this.npcName,this.text,this.image]),null==(n=this.scene.input.keyboard)||n.on("keydown-DOWN",(()=>{this.setOptionIndex(1)})),null==(a=this.scene.input.keyboard)||a.on("keydown-UP",(()=>{this.setOptionIndex(-1)})),null==(o=this.scene.input.keyboard)||o.on("keydown-ENTER",(()=>{this.options?this.onSelectOption(this.options[this.optionIndex]):this.updateDialog()})),null==(r=this.scene.input.keyboard)||r.on("keydown-SPACE",(()=>{this.options?this.onSelectOption(this.options[this.optionIndex]):this.updateDialog()}))}setDialog(e,t){this.setVisible(void 0!==e),this.npc=t,this.messageIndex=0,this.dialog=e,this.interactionTimeout=Date.now()+350,e&&(void 0===t?(this.npcName.setVisible(!1),this.image.setVisible(!1),this.text.setPosition(B,B)):(this.npcName.setVisible(!0),this.npcName.setText(q[t.npcType].name),this.image.setVisible(!0),this.image.setTexture(q[t.npcType].portrait),this.text.setPosition(170,60)),this.showMessage())}showMessage(){const e=this.getMessages(),t=e&&e[this.messageIndex];t&&(this.text.setText(t),this.text.getWrappedText().length>2&&console.error("Message too long!",t)),this.updateOptions()}updateOptions(){this.optionIndex=0,this.options=this.getOptions(),this.options&&(this.optionsContainer.removeAll(!0),this.options.forEach(((e,t)=>{const i=new s.GameObjects.Text(this.scene,a.width/2,120+74*t,e,{...p,backgroundColor:"#"+c,padding:{y:10},align:"center",fixedWidth:350}).setOrigin(.5);0===t&&i.setTint(d(h)),i.setInteractive().on("pointerdown",(()=>{this.onSelectOption(e)})),this.optionsContainer.add(i)})))}setOptionIndex(e){this.options&&(this.optionIndex=s.Math.Clamp(this.optionIndex+e,0,this.options.length-1),this.optionsContainer.getAll().forEach(((e,t)=>{e.setTint(t===this.optionIndex?d(h):16777215)})))}onSelectOption(e){var t;(null==(t=this.dialog)?void 0:t.onSelected)&&(this.dialog.onSelected(e,this.player,this.npc),this.optionsContainer.removeAll(!0))}updateDialog(){if(Date.now()<this.interactionTimeout)return;const e=this.getMessages();this.dialog&&e&&(this.messageIndex++,this.messageIndex>=e.length?(this.dialog.onCompleted&&this.dialog.onCompleted(this.player,this.npc),this.dialog=void 0,this.setVisible(!1)):this.showMessage(),this.interactionTimeout=Date.now()+350)}getMessages(){var e;let t=null==(e=this.dialog)?void 0:e.messages;return"function"==typeof t&&(t=t(this.player)),t}getOptions(){var e;let t=null==(e=this.dialog)?void 0:e.options;return"function"==typeof t&&(t=t(this.player)),t}}const J=2.5*(a.fastMode?350:120),$=new s.Math.Vector2(400,650);class Z extends Phaser.Physics.Arcade.Sprite{constructor(e){var s,i;super(e,$.x,$.y,"character",0),t(this,"keys"),t(this,"buttonPrompt"),t(this,"interactive"),t(this,"interactionTimeout",0),t(this,"message"),t(this,"inventory"),t(this,"quests"),t(this,"journal"),t(this,"counter",0),t(this,"history",[]),t(this,"rewinding",!1),this.keys=null==(s=e.input.keyboard)?void 0:s.addKeys("W,A,S,D,UP,DOWN,LEFT,RIGHT,ENTER,SPACE"),e.add.existing(this),e.physics.add.existing(this),a.debug&&this.setInteractive(),this.setBodySize(24,36),this.setOffset(0,0),this.depth=1,this.scale=2.5,(i=this).anims.create({key:"walk",frames:i.anims.generateFrameNumbers("character",{start:0,end:5}),frameRate:4,repeat:-1}),i.anims.play("walk"),this.buttonPrompt=new Q(e),this.message=new Y(e,this),this.inventory=new V(e),this.quests=new U(e),this.journal=new z(e,this)}update(e,t){a.debug&&this.setTint(this.interactive?16755370:16777215),this.buttonPrompt.setVisible(this.interactive&&!this.message.visible&&this.buttonPrompt.text.length>0||!1);let s=this.quests.shifted;this.quests.shifted=this.inventory.visible,s!==this.quests.shifted&&this.quests.updateQuests(),this.setVelocity(0),this.rewinding?this.counter+t>31.25?(this.rewind(),this.counter=0):this.counter+=t:this.checkInteraction()||this.message.visible||this.updateVelocity(),function(e){var t;const s=(null==(t=e.body)?void 0:t.velocity.x)||0,i=s<0;Math.abs(s)>0?(e.anims.resume(),e.flipX=e.rewinding?!i:i):e.anims.pause()}(this)}checkInteraction(){let e;return this.interactive&&Date.now()>this.interactionTimeout&&(e=this.interactive.onInteract(this.keys),e!==y.None&&(this.interactionTimeout=Date.now()+(this.interactive.interactionTimeout||500),e===y.Teleported&&(this.interactive=void 0))),e}updateVelocity(){const e=this.keys.LEFT.isDown||this.keys.A.isDown,t=this.keys.RIGHT.isDown||this.keys.D.isDown,s=this.keys.UP.isDown||this.keys.W.isDown,i=this.keys.DOWN.isDown||this.keys.S.isDown;let n=J;e&&this.setVelocityX(-n),t&&this.setVelocityX(n),a.debug&&!this.interactive&&(s&&this.setVelocityY(-n),i&&this.setVelocityY(n)),e&&t&&this.setVelocityX(0)}record(){var e;this.history.length<1e3?this.history.push(new Phaser.Math.Vector3(this.x,this.y,(null==(e=this.body)?void 0:e.velocity.x)||0)):console.warn("Max history reached")}rewind(){const e=this.history.pop();e&&(this.x=e.x,this.y=e.y,this.setVelocityX(-e.z))}setRewind(e){this.rewinding=e,this.counter=0}reset(){this.quests.reset(),this.setPosition($.x,$.y),this.flipX=!1,this.setVelocity(0)}setInteractiveObject(e){var t;this.interactive=e,this.buttonPrompt.setText((null==(t=null==e?void 0:e.getButtonPrompt)?void 0:t.call(e))||"")}}class ee extends s.GameObjects.Container{constructor(e,s){super(e,0,0),t(this,"text"),t(this,"player"),t(this,"activeElement"),t(this,"outline"),a.debug&&(this.player=s,this.setScrollFactor(0).setDepth(2),this.scene.add.existing(this),this.text=e.add.text(20,90,"",{...p,fontSize:32,backgroundColor:`#${c}`,padding:{x:5,y:5}}),this.add(this.text),this.outline=e.add.rectangle(0,0,0,0).setStrokeStyle(2,65280).setScale(1.1).setDepth(3),e.input.on("gameobjectdown",((e,t)=>{t!==this.activeElement?this.activeElement=t:this.activeElement=void 0})),e.input.on("drag",((e,t)=>{this.activeElement===t&&t.setPosition(e.worldX,e.worldY)})))}update(){if(!a.debug)return;const e=this.scene.input.activePointer,t=[`Player x: ${this.player.x.toFixed(1)}`,`Player y: ${this.player.y.toFixed(1)}`,`Mouse x: ${e.worldX.toFixed(1)}`,`Mouse y: ${e.worldY.toFixed(1)}`];if(this.activeElement&&(t.push(""),t.push(`Active x: ${this.activeElement.x.toFixed(1)}`),t.push(`Active y: ${this.activeElement.y.toFixed(1)}`)),this.text.setText(t),this.activeElement){this.outline.setPosition(this.activeElement.x,this.activeElement.y),this.outline.setSize(this.activeElement.displayWidth,this.activeElement.displayHeight),this.outline.setOrigin(this.activeElement.originX,this.activeElement.originY);const e=this.activeElement.body;(e&&e instanceof s.Physics.Arcade.Body||e instanceof s.Physics.Arcade.StaticBody)&&e.updateFromGameObject()}else this.outline.setSize(0,0)}}const te={player:{x:$.x,y:$.y,flip:!1},journal:[v.FixTheClock,v.SphinxRiddleSolved],inventory:[m.Wrench,m.Gear1],quests:[{id:w.SphinxRiddle,completed:!0}],warpers:[{warpType:g.TownEast,state:!0}]};function se(e){return E(e,P).map((e=>({warpType:e.warpType,state:e.visible})))}class ie extends s.Scene{constructor(){super("Game"),t(this,"player"),t(this,"interactiveObjects"),t(this,"clock")}create(){this.createBackgrounds(),this.player=new Z(this);const e=new T(this),t=this.createWarpers(),s=this.createNpcs(),i=this.createItems(),n=new ee(this,this.player),o=[this.player];this.clock=new u(this,o,this.player),this.interactiveObjects=this.add.group([...t,...s,...i],{runChildUpdate:!0}),this.add.group([this.player,this.clock,n],{runChildUpdate:!0}),this.physics.add.collider(this.player,e),this.createEventListeners(),this.cameras.main.startFollow(this.player,!0),this.cameras.main.setFollowOffset(0,a.cameraOffset),function(e){const t=localStorage.getItem("save"),s=t?JSON.parse(t):te;e.player.setX(s.player.x),e.player.setY(s.player.y),e.player.setFlipX(s.player.flip),s.journal.forEach((t=>e.player.journal.addEntry(t,!0))),s.inventory.forEach((t=>e.player.inventory.addItem(t))),s.quests.forEach((t=>e.player.quests.addQuest(t))),function(e,t){const s=E(e,P);t.forEach((e=>{const t=s.find((t=>t.warpType===e.warpType));t&&t.setVisible(e.state)}))}(e,s.warpers),new W(e,"Game Loaded")}(this)}update(){this.physics.overlap(this.interactiveObjects,this.player,this.player.setInteractiveObject,((e,t)=>void 0===e.visible||e.visible),this.player)||this.player.setInteractiveObject(void 0)}createBackgrounds(){const e=[this.physics.add.sprite(0,0,"town").setOrigin(0),this.physics.add.sprite(500,-1100,"clock_outside").setOrigin(0),this.physics.add.sprite(500,-2400,"clock_inner").setOrigin(0),this.physics.add.sprite(2300,0,"forest").setOrigin(0),this.physics.add.sprite(4400,100,"lake").setOrigin(0)];return a.debug&&e.forEach((e=>e.setInteractive({draggable:!0}))),e}createWarpers(){const e=[];for(const t in g)isNaN(Number(t))&&e.push(new P(this,g[t],this.player));return e}createNpcs(){return[new R(this,x.Inventor,this.player),new R(this,x.Stranger,this.player),new R(this,x.Sphinx,this.player),new R(this,x.Mayor,this.player),new R(this,x.ClockTower,this.player)]}createItems(){return[new k(this,m.Gear1,this.player)]}createEventListeners(){var e,t,s,i;null==(e=this.input.keyboard)||e.on("keydown-ESC",(()=>{this.scene.pause(),this.scene.launch("Paused")})),null==(t=this.input.keyboard)||t.on("keydown-J",(()=>{this.player.journal.openJournal()})),null==(s=this.input.keyboard)||s.on("keydown-K",(()=>{!function(e){const t={player:{x:e.player.x,y:e.player.y,flip:e.player.flipX},journal:e.player.journal.journal,inventory:e.player.inventory.inventory,quests:e.player.quests.quests,warpers:se(e)};localStorage.setItem("save",JSON.stringify(t)),new W(e,"Game Saved")}(this)})),null==(i=this.input.keyboard)||i.on("keydown-L",(()=>{this.scene.restart()})),a.debug&&this.input.on("wheel",((e,t,s,i,n)=>{this.cameras.main.zoom+=5e-4*i}))}}class ne extends s.GameObjects.Text{constructor(e,t,s,i,n){super(e,t,s,i,{...p,fontSize:48,backgroundColor:"#05a",padding:{x:15,y:10}}),this.setOrigin(.5),e.add.existing(this),this.setInteractive(),this.on("pointerdown",(()=>n())),this.on("pointerover",(()=>this.setBackgroundColor("#06e"))),this.on("pointerout",(()=>this.setBackgroundColor("#05a")))}}const ae={[v.FixTheClock]:"The inventor gave me a wrench to fix the clock tower. I need three gears to repair it.",[v.SphinxRiddleSolved]:"I solved the sphinx’s riddle. Now I can pass through the forest.",[v.MeetTheMayor]:"The inventor suggested I meet the mayor. She is usually by the old clock or in her office."};class oe extends s.Scene{constructor(){super("JournalDialog"),t(this,"player")}init(e){this.player=e.player}create(){var e,t;const i=this.add.container(a.width/2,a.height/2);i.add(this.add.rectangle(0,0,.8*a.width,.8*a.height,0,.75).setStrokeStyle(4,d(h))),i.add(new ne(this,.3*a.width,-.33*a.height,"Close",(()=>this.close()))),i.add(this.add.text(0,-.33*a.height,"Journal",{...p,fontSize:48}).setOrigin(.5));const n=this.add.text(0,-.2*a.height,this.player.journal.journal.map((e=>"- "+ae[e]+"\n\n")).reverse(),{...p,wordWrap:{width:.7*a.width},align:"left"}).setOrigin(.5,0).setInteractive({draggable:!0});n.on("drag",((e,t,i)=>{n.y=s.Math.Clamp(i,.5*-n.displayHeight,.2*-a.height)})),i.add(n);const o=this.make.graphics();o.fillStyle(16777215),o.fillRect(.125*a.width,.2*a.height,.75*a.width,.7*a.height);const r=new Phaser.Display.Masks.BitmapMask(this,o);n.setMask(r),null==(e=this.input.keyboard)||e.on("keydown-J",(()=>{this.close()})),null==(t=this.input.keyboard)||t.on("keydown-ESC",(()=>{this.close()}))}close(){this.scene.stop(),this.scene.resume("Game")}}function re(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function he(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?re(Object(s),!0).forEach((function(t){le(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):re(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function le(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ce(e){return e.slice(0,-1)}function de(e,t=0){return t?Array.from(Array(t-e).keys()).map((t=>t+e)):Array.from(Array(e).keys())}function pe(e){return[...new Set(e)]}function ue(e,t){const s=pe(e.map((e=>e.set))).filter(Boolean),i=(n=de(1,e.length+1),a=s,[n,a].reduce(((e,t)=>e.filter((e=>!t.includes(e)))))).sort((()=>.5-t()));var n,a;e.filter((e=>!e.set)).forEach(((e,t)=>e.set=i[t]))}function ye(e,t,s=.5){ce(e).forEach(((i,n)=>{const a=e[n+1],o=i.set!==a.set,r=t()<=s;var h,l,c;o&&r&&(h=e,l=a.set,c=i.set,h.forEach((e=>{e.set===l&&(e.set=c)})),i.right=!1,a.left=!1)}))}const ge=48;class me extends s.Scene{constructor(){super("Maze"),t(this,"parent"),t(this,"graphics"),t(this,"keys"),t(this,"maze"),t(this,"mazePlayer"),t(this,"nextUpdate")}init(e){this.parent=e.parent}create(){var e;this.createMaze(),this.mazePlayer=this.add.ellipse(0,0,43.2,43.2,5601177).setSmoothness(32).setOrigin(-.03),this.keys=null==(e=this.input.keyboard)?void 0:e.addKeys("W,A,S,D,UP,DOWN,LEFT,RIGHT,P"),this.cameras.main.startFollow(this.mazePlayer)}createMaze(){const e=j(this);this.maze=function(e=8,t=e,s=!0,i=1){const n=function(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(i),a=[],o=de(e);for(let l=0;l<t;l+=1){const i=o.map((i=>({x:i,y:l,top:s||l>0,left:s||i>0,bottom:s||l<t-1,right:s||i<e-1})));a.push(i)}ce(a).forEach(((e,t)=>{ue(e,n),ye(e,n),function(e,t,s){const i=Object.values(function(e,t){let s=pe(e.map((e=>e.set))).reduce(((e,t)=>he(he({},e),{},{[t]:[]})),{});return e.forEach((e=>s[e.set].push(e))),s}(e)),{ceil:n}=Math;i.forEach((e=>{(function(e,t,s){t=null==t?1:t;const i=null==e?0:e.length;if(!i||t<1)return[];t=t>i?i:t;let n=-1;const a=i-1,o=[...e];for(;++n<t;){const e=n+Math.floor(s()*(a-n+1)),t=o[e];o[e]=o[n],o[n]=t}return o.slice(0,t)})(e,n(s()*e.length),s).forEach((e=>{if(e){const s=t[e.x];e.bottom=!1,s.top=!1,s.set=e.set}}))}))}(e,a[t+1],n)}));const r=(h=a)[h.length-1];var h;return ue(r,n),ye(r,n,1),a}(24,24,!0,e),this.graphics=this.add.graphics(),this.graphics.fillStyle(10040098,.5),this.graphics.fillRect(1104,1104,ge,ge),this.graphics.lineStyle(3,3385907),this.maze.forEach((e=>{e.forEach((e=>{if(e.top){const t=new Phaser.Geom.Line(e.x*ge,e.y*ge,e.x*ge+ge,e.y*ge);this.graphics.strokeLineShape(t)}if(e.bottom){const t=new Phaser.Geom.Line(e.x*ge,e.y*ge+ge,e.x*ge+ge,e.y*ge+ge);this.graphics.strokeLineShape(t)}if(e.left){const t=new Phaser.Geom.Line(e.x*ge,e.y*ge,e.x*ge,e.y*ge+ge);this.graphics.strokeLineShape(t)}if(e.right){const t=new Phaser.Geom.Line(e.x*ge+ge,e.y*ge,e.x*ge+ge,e.y*ge+ge);this.graphics.strokeLineShape(t)}}))})),this.cameras.main.setViewport(50,130,a.width-100,a.height-170)}update(e,t){if(e<this.nextUpdate)return;this.keys.P.isDown;const i=this.keys.LEFT.isDown||this.keys.A.isDown,n=this.keys.RIGHT.isDown||this.keys.D.isDown,a=this.keys.UP.isDown||this.keys.W.isDown,o=this.keys.DOWN.isDown||this.keys.S.isDown,r=new s.Math.Vector2(0,0);i?r.x=-48:n?r.x=ge:a?r.y=-48:o&&(r.y=ge);const h=new s.Math.Vector2(this.mazePlayer.x+r.x,this.mazePlayer.y+r.y);if((this.mazePlayer.x!==h.x||this.mazePlayer.y!==h.y)&&this.canMove(h)){this.mazePlayer.setPosition(h.x,h.y);const e=new s.Math.Vector2(1104,1104);this.parent.setAngle(s.Math.Angle.BetweenPoints(h,e)),this.mazePlayer.x===e.x&&this.mazePlayer.y===e.y&&this.parent.close(!0)}this.nextUpdate=e+75}canMove(e){const t=e.x,i=e.y,n=s.Math.FloorTo(t/ge),a=s.Math.FloorTo(i/ge);if(n<0||a<0||n>=24||a>=24)return!1;const o=s.Math.FloorTo(this.mazePlayer.x/ge),r=s.Math.FloorTo(this.mazePlayer.y/ge),h=this.maze[r][o];return!(h.top&&i<this.mazePlayer.y||h.bottom&&i>this.mazePlayer.y||h.left&&t<this.mazePlayer.x||h.right&&t>this.mazePlayer.x)}}class we extends s.Scene{constructor(){super("MazeDialog"),t(this,"player"),t(this,"container"),t(this,"arrow")}init(e){this.player=e.player}create(){var e;this.container=this.add.container(a.width/2,a.height/2),this.container.add(this.add.rectangle(0,0,.95*a.width,.95*a.height,0,.9).setStrokeStyle(4,d(h))),this.container.add(new ne(this,.4*a.width,-.4*a.height,"Close",(()=>this.close(!1)))),this.container.add(this.add.text(0,-.4*a.height,"Find your way through the forest",{...p,fontSize:48}).setOrigin(.5)),this.arrow=this.add.sprite(.4*-a.width,.4*-a.height,"arrow").setScale(.5).setRotation(.75*Math.PI),this.container.add(this.arrow),null==(e=this.input.keyboard)||e.on("keydown-ESC",(()=>{this.close(!1)})),this.scene.launch("Maze",{parent:this})}setAngle(e){this.arrow.setRotation(e+Math.PI/2)}close(e){this.scene.stop(),this.scene.stop("Maze"),this.scene.resume("Game"),e?C(g.Forest,this.player):this.player.setPosition(I[g.TownEast].x-40,I[g.TownEast].y)}}class xe extends s.Scene{constructor(){super("Paused")}create(){var e;const t=a.width,s=a.height;this.add.rectangle(t/2,s/2,t,s,0,.75),this.add.text(t/2,300,"Game Paused",{...p,fontSize:72}).setOrigin(.5),new ne(this,t/2,s/2+50,"Resume",(()=>this.resume())),null==(e=this.input.keyboard)||e.on("keydown-ESC",(()=>this.resume()))}resume(){this.scene.resume("Game"),this.scene.stop()}}class fe extends s.Scene{constructor(){super("Preloader")}init(){this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(t=>{e.width=4+460*t}))}preload(){this.load.setPath("assets"),this.load.image("town","maps/town.jpg"),this.load.image("clock_outside","maps/clock_outside.jpg"),this.load.image("clock_inner","maps/clock_inner.jpg"),this.load.image("forest","maps/forest.jpg"),this.load.image("lake","maps/lake.jpg"),this.load.image("ladder","ladder.png"),this.load.image("warp","warp.png"),this.load.image("watch","watch.png"),this.load.image("arrow","arrow.png"),this.load.image("gear","items/gear.png"),this.load.image("journal","items/journal.png"),this.load.image("wrench","items/wrench.png"),this.load.spritesheet("character","characters/player.png",{frameWidth:24,frameHeight:36}),this.load.image("inventor","characters/inventor.png"),this.load.image("inventor_portrait","characters/inventor_portrait.png"),this.load.image("stranger","characters/stranger.png"),this.load.image("stranger_portrait","characters/stranger_portrait.png"),this.load.image("sphinx","characters/sphinx.png"),this.load.image("sphinx_portrait","characters/sphinx_portrait.png"),this.load.image("mayor","characters/mayor.png"),this.load.image("mayor_portrait","characters/mayor_portrait.png")}create(){this.scene.start("Game")}}const ve={type:Phaser.AUTO,width:a.width,height:a.height,parent:"game-container",backgroundColor:1118481,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[o,fe,ie,xe,oe,we,me],physics:{default:"arcade",arcade:{debug:a.debug}},render:{pixelArt:!0,antialias:!1}};("m5x7","assets/m5x7.ttf",new FontFace("m5x7","url(assets/m5x7.ttf)").load().then((function(e){document.fonts.add(e)})).catch((function(e){return e}))).then((()=>{new s.Game(ve)}));
